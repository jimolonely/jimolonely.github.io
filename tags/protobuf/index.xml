<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>protobuf on 孤独的寂寞</title><link>https://jimolonely.github.io/tags/protobuf/</link><description>Recent content in protobuf on 孤独的寂寞</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 26 May 2022 22:48:27 +0800</lastBuildDate><atom:link href="https://jimolonely.github.io/tags/protobuf/index.xml" rel="self" type="application/rss+xml"/><item><title>Grpc练习</title><link>https://jimolonely.github.io/posts/java/grpc-demo/</link><pubDate>Thu, 26 May 2022 22:48:27 +0800</pubDate><guid>https://jimolonely.github.io/posts/java/grpc-demo/</guid><description>练习下Grpc使用。
proto和Service定义 src/main/proto/AgentModel.proto
模型定义2个实体，参数和返回值。
syntax = &amp;#34;proto3&amp;#34;; option java_package = &amp;#34;com.jimo.grpc&amp;#34;; message AgentInfo { string name = 1; sint32 index = 2; } message ReportResponse { bool ok = 1; string msg = 2; } src/main/proto/AgentService.proto
在服务这边就定义一个report方法。
syntax = &amp;#34;proto3&amp;#34;; option java_package = &amp;#34;com.jimo.grpc&amp;#34;; import &amp;#34;AgentModel.proto&amp;#34;; service Agent { rpc report(AgentInfo) returns (ReportResponse) {} } 编译 加入maven插件，同时编译proto文件和grpc。
&amp;lt;extensions&amp;gt; &amp;lt;extension&amp;gt; &amp;lt;groupId&amp;gt;kr.motd.maven&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;os-maven-plugin&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;1.6.2&amp;lt;/version&amp;gt; &amp;lt;/extension&amp;gt; &amp;lt;/extensions&amp;gt; &amp;lt;plugins&amp;gt; &amp;lt;plugin&amp;gt; &amp;lt;groupId&amp;gt;org.xolstice.maven.plugins&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;protobuf-maven-plugin&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;0.6.1&amp;lt;/version&amp;gt; &amp;lt;configuration&amp;gt; &amp;lt;protocArtifact&amp;gt;com.</description></item></channel></rss>